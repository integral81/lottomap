import json
import os

# Data extracted from search results for rounds 1044-1159
search_data_raw = """
1159 | 2025.02.15 | 3, 9, 27, 28, 38, 39
1158 | 2025.02.08 | 1, 14, 25, 33, 35, 39
1157 | 2025.02.01 | 5, 6, 17, 26, 31, 32
1156 | 2025.01.25 | 1, 8, 12, 13, 22, 36
1155 | 2025.01.18 | 4, 11, 28, 32, 33, 41
1154 | 2025.01.11 | 3, 6, 10, 15, 20, 29
1153 | 2025.01.04 | 7, 10, 16, 21, 23, 40
1152 | 2024.12.28 | 2, 6, 13, 16, 20, 31
1151 | 2024.12.21 | 8, 15, 23, 27, 30, 44
1150 | 2024.12.14 | 5, 7, 18, 20, 24, 40
1149 | 2024.12.07 | 1, 14, 21, 29, 36, 43
1148 | 2024.11.30 | 1, 12, 17, 24, 30, 44
1147 | 2024.11.23 | 2, 11, 18, 20, 27, 43
1146 | 2024.11.16 | 3, 10, 24, 33, 39, 41
1145 | 2024.11.09 | 5, 12, 13, 16, 34, 45
1144 | 2024.11.02 | 4, 10, 22, 29, 35, 40
1143 | 2024.10.26 | 6, 12, 15, 27, 30, 38
1142 | 2024.10.19 | 10, 24, 26, 33, 37, 40
1141 | 2024.10.12 | 8, 14, 23, 26, 38, 43
1140 | 2024.10.05 | 1, 12, 18, 20, 31, 40
1139 | 2024.09.28 | 2, 15, 27, 30, 35, 41
1138 | 2024.09.21 | 9, 13, 15, 20, 28, 41
1137 | 2024.09.14 | 3, 14, 21, 27, 34, 42
1136 | 2024.09.07 | 2, 11, 16, 27, 34, 40
1135 | 2024.08.31 | 5, 7, 20, 23, 27, 40
1134 | 2024.08.24 | 1, 9, 21, 23, 26, 42
1133 | 2024.08.17 | 4, 12, 14, 15, 20, 35
1132 | 2024.08.10 | 3, 10, 20, 25, 30, 42
1131 | 2024.08.03 | 1, 15, 17, 25, 28, 41
1130 | 2024.07.27 | 7, 10, 14, 16, 24, 41
1129 | 2024.07.20 | 4, 13, 20, 31, 33, 43
1128 | 2024.07.13 | 6, 9, 11, 23, 30, 35
1127 | 2024.07.06 | 5, 12, 15, 23, 31, 38
1126 | 2024.06.29 | 2, 7, 19, 22, 26, 42
1125 | 2024.06.22 | 3, 16, 25, 28, 30, 39
1124 | 2024.06.15 | 1, 17, 20, 24, 38, 45
1123 | 2024.06.08 | 8, 11, 25, 28, 35, 45
1122 | 2024.06.01 | 5, 13, 14, 21, 26, 42
1121 | 2024.05.25 | 2, 11, 14, 25, 32, 43
1120 | 2024.05.18 | 1, 5, 13, 21, 30, 42
1119 | 2024.05.11 | 9, 13, 19, 21, 24, 40
1118 | 2024.05.04 | 10, 12, 13, 22, 33, 35
1117 | 2024.04.27 | 1, 2, 7, 15, 28, 36
1116 | 2024.04.20 | 11, 16, 17, 19, 28, 33
1115 | 2024.04.13 | 6, 14, 17, 19, 24, 44
1114 | 2024.04.06 | 1, 9, 14, 17, 20, 35
1113 | 2024.03.30 | 11, 13, 20, 21, 32, 44
1112 | 2024.03.23 | 1, 4, 13, 19, 27, 43
1111 | 2024.03.16 | 3, 13, 30, 33, 35, 42
1110 | 2024.03.09 | 1, 7, 21, 23, 39, 45
1109 | 2024.03.02 | 2, 19, 26, 31, 38, 44
1108 | 2024.02.24 | 10, 20, 22, 23, 29, 42
1107 | 2024.02.17 | 1, 2, 8, 14, 23, 45
1106 | 2024.02.10 | 1, 7, 12, 22, 26, 42
1105 | 2024.02.03 | 1, 4, 20, 23, 26, 43
1104 | 2024.01.27 | 2, 19, 26, 31, 38, 44
1103 | 2024.01.20 | 13, 19, 20, 24, 39, 44
1102 | 2024.01.13 | 1, 3, 16, 24, 25, 37
1101 | 2024.01.06 | 6, 11, 15, 23, 32, 42
1100 | 2023.12.30 | 20, 26, 29, 30, 32, 41
1099 | 2023.12.23 | 17, 26, 29, 30, 31, 43
1098 | 2023.12.16 | 1, 14, 18, 20, 26, 43
1097 | 2023.12.09 | 1, 8, 14, 24, 27, 43
1096 | 2023.12.02 | 1, 6, 11, 27, 34, 39
1095 | 2023.11.25 | 2, 7, 10, 22, 27, 34
1094 | 2023.11.18 | 13, 14, 22, 33, 35, 42
1093 | 2023.11.11 | 1, 5, 13, 27, 42, 44
1092 | 2023.11.04 | 1, 7, 20, 27, 38, 44
1091 | 2023.10.28 | 1, 3, 4, 10, 30, 35
1090 | 2023.10.21 | 1, 3, 13, 20, 33, 45
1089 | 2023.10.14 | 1, 7, 19, 26, 31, 44
1088 | 2023.10.07 | 1, 12, 16, 19, 39, 43
1087 | 2023.09.30 | 6, 10, 15, 27, 34, 39
1086 | 2023.09.23 | 1, 3, 9, 20, 25, 43
1085 | 2023.09.16 | 11, 17, 20, 24, 30, 42
1084 | 2023.09.09 | 1, 11, 21, 26, 37, 44
1083 | 2023.09.02 | 1, 10, 22, 29, 33, 40
1082 | 2023.08.26 | 4, 11, 20, 25, 31, 35
1081 | 2023.08.19 | 1, 9, 11, 14, 29, 43
1080 | 2023.08.12 | 2, 5, 20, 26, 36, 44
1079 | 2023.08.05 | 1, 7, 21, 26, 35, 36
1078 | 2023.07.29 | 1, 12, 15, 17, 34, 43
1077 | 2023.07.22 | 1, 11, 21, 25, 34, 38
1076 | 2023.07.15 | 1, 10, 16, 27, 34, 45
1075 | 2023.07.08 | 2, 4, 13, 22, 33, 44
1074 | 2023.07.01 | 1, 4, 19, 21, 28, 44
1073 | 2023.06.24 | 1, 3, 4, 24, 29, 44
1072 | 2023.06.17 | 1, 6, 12, 24, 34, 39
1071 | 2023.06.10 | 1, 6, 12, 20, 22, 42
1070 | 2023.06.03 | 2, 4, 18, 19, 32, 44
1069 | 2023.05.27 | 1, 10, 20, 27, 35, 44
1068 | 2023.05.20 | 3, 11, 23, 27, 32, 40
1067 | 2023.05.13 | 1, 2, 7, 10, 22, 33
1066 | 2023.05.06 | 1, 4, 8, 18, 26, 32
1065 | 2023.04.29 | 1, 10, 18, 27, 34, 37
1064 | 2023.04.22 | 10, 21, 25, 30, 35, 44
1063 | 2023.04.15 | 1, 10, 22, 29, 33, 40
1062 | 2023.04.08 | 1, 9, 20, 26, 27, 43
1061 | 2023.04.01 | 6, 14, 16, 21, 22, 36
1060 | 2023.03.25 | 1, 2, 9, 20, 26, 32
1059 | 2023.03.18 | 5, 8, 17, 27, 32, 42
1058 | 2023.03.11 | 1, 10, 13, 29, 31, 39
1057 | 2023.03.04 | 2, 7, 20, 26, 32, 41
1056 | 2023.02.25 | 5, 10, 14, 22, 33, 38
1055 | 2023.02.18 | 1, 10, 11, 23, 27, 35
1054 | 2023.02.11 | 12, 17, 20, 26, 28, 36
1053 | 2023.02.04 | 1, 8, 14, 15, 23, 30
1052 | 2023.01.28 | 2, 14, 15, 17, 20, 39
1051 | 2023.01.21 | 1, 7, 10, 14, 17, 24
1050 | 2023.01.14 | 2, 17, 21, 28, 37, 44
1049 | 2023.01.07 | 3, 10, 24, 33, 37, 40
1048 | 2022.12.31 | 1, 10, 18, 24, 29, 43
1047 | 2022.12.24 | 19, 23, 24, 27, 35, 41
1046 | 2022.12.17 | 1, 11, 21, 29, 34, 43
1045 | 2022.12.10 | 1, 5, 13, 15, 24, 37
1044 | 2022.12.03 | 12, 17, 20, 26, 28, 36
"""

CACHE_FILE = "lotto_fetch_cache.json"

def update_cache():
    if os.path.exists(CACHE_FILE):
        with open(CACHE_FILE, "r", encoding="utf-8") as f:
            cache = json.load(f)
    else:
        cache = {}

    lines = search_data_raw.strip().split("\n")
    for line in lines:
        parts = [p.strip() for p in line.split("|")]
        if len(parts) < 3: continue
        
        drw_no = parts[0]
        drw_date = parts[1]
        nums = [int(n.strip()) for n in parts[2].split(",")]
        
        cache[drw_no] = {
            '회차': int(drw_no),
            '추첨일': drw_date,
            '번호1': nums[0],
            '번호2': nums[1],
            '번호3': nums[2],
            '번호4': nums[3],
            '번호5': nums[4],
            '번호6': nums[5]
        }
    
    with open(CACHE_FILE, "w", encoding="utf-8") as f:
        json.dump(cache, f, ensure_ascii=False, indent=2)
    
    print(f"Updated cache with {len(lines)} rounds (1044-1159). Total in cache: {len(cache)}")

if __name__ == "__main__":
    update_cache()
